(this["webpackJsonpfirebase-chat-app"]=this["webpackJsonpfirebase-chat-app"]||[]).push([[0],{23:function(e,a,t){e.exports=t(45)},28:function(e,a,t){},44:function(e,a,t){},45:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),s=t(13),c=t.n(s),m=(t(28),t(22)),l=t(12),i=t(46),p=t(48),o=t(49),u=function(e){var a=e.setUsername,t=Object(n.useState)(""),s=Object(l.a)(t,2),c=s[0],m=s[1];return r.a.createElement("div",{className:"app__login text-center mt-5"},r.a.createElement("h1",{className:"mt-5 mb-5"},"Welcome"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a(c)}},r.a.createElement(i.a,{className:"mb-3"},r.a.createElement(p.a,{placeholder:"Enter your name...","aria-label":"username","aria-describedby":"basic-addon2",onChange:function(e){m(e.target.value)}}),r.a.createElement(i.a.Append,null,r.a.createElement(o.a,{variant:"primary",type:"submit"},"Let's Go")))))},d=t(14),f=t.n(d);f.a.initializeApp({apiKey:"AIzaSyDoqVDbqi3MCK_HCClhdOZ2wSuTzXUvQ3c",authDomain:"fir-chat-app-17311.firebaseapp.com",databaseURL:"https://fir-chat-app-17311.firebaseio.com",projectId:"fir-chat-app-17311",storageBucket:"fir-chat-app-17311.appspot.com",messagingSenderId:"414556650810",appId:"1:414556650810:web:e164cb4aa04ec9d8396403"});var b=f.a.firestore(),E=function(e){e.setMessages;var a=e.username,t=Object(n.useState)(""),s=Object(l.a)(t,2),c=s[0],m=s[1];return r.a.createElement("div",{className:"app__message-form"},r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),0!==c.length){var t={username:a,message:c,timestamp:f.a.firestore.FieldValue.serverTimestamp()};b.collection("messages").add(t),m("")}}},r.a.createElement(i.a,{className:"mb-3"},r.a.createElement(p.a,{placeholder:"Text Message","aria-label":"message","aria-describedby":"basic-addon2",value:c,onChange:function(e){m(e.target.value)}}),r.a.createElement(i.a.Append,null,r.a.createElement(o.a,{variant:"primary",type:"submit"},"Send")))))},g=t(47),v=["#FF6633","#FFB399","#B366CC","#B33300","#CC80CC","#66664D","#991AFF","#E666FF","#4DB3FF","#1AB399","#E666B3","#33991A","#CC9999","#00E680","#4D80CC","#9900B3","#E64D66","#FF4D4D","#6666FF"];function h(e){return e[Math.floor(Math.random()*e.length)]}var _=Object(n.forwardRef)((function(e,a){var t=e.message,n=e.username;return r.a.createElement("div",{ref:a,className:"app__message ".concat(n===t.username?"app__message-current-user":"")},r.a.createElement("div",{className:"app__message-wrapper d-flex align-items-center"},r.a.createElement("div",{className:"app__message-avatar mr-2",style:{backgroundColor:h(v)}},t.username.trim().split("")[0].toUpperCase()),r.a.createElement("div",null,r.a.createElement(g.a,{className:"app__message-card p-2"},n!==t.username&&r.a.createElement("div",{className:"app__message-card-username text-primary"},t.username),t.message))))})),C=t(21);t(44);var y=function(){var e=Object(n.useState)(""),a=Object(l.a)(e,2),t=a[0],s=a[1],c=Object(n.useState)([]),i=Object(l.a)(c,2),p=i[0],o=i[1];return Object(n.useEffect)((function(){b.collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){var a=e.docs.map((function(e){return Object(m.a)({id:e.id},e.data())}));o(a)}))}),[]),Object(n.useEffect)((function(){var e=document.getElementById("messages-box");e&&(e.scrollTop=e.scrollHeight)}),[p]),r.a.createElement("div",{className:"app"},!t&&r.a.createElement(u,{setUsername:s}),t&&r.a.createElement("div",{className:"app__main my-2"},r.a.createElement("div",{className:"app__main-header d-flex justify-content-between align-items-center"},r.a.createElement("h3",null,r.a.createElement("span",{className:"mr-1",role:"img","aria-label":"rocket"},"\ud83d\ude80"),"Chat"),r.a.createElement("div",null,"Welcome ",r.a.createElement("span",{className:"font-weight-bold"},t))),r.a.createElement("div",{className:"app__main-messages",id:"messages-box"},r.a.createElement(C.a,null,p.map((function(e){return r.a.createElement(_,{key:e.id,message:e,username:t})})))),r.a.createElement(E,{setMessages:o,username:t})))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.f2352ec5.chunk.js.map